<!DOCTYPE html>

<html>
  <head>
    <title>Lucy's birthday party room</title>
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://cmhkjuwan.github.io/SmartProject-VR/js/kinemabody.js"></script>
    <script src=""></script>
    <script>
      function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }

      async function wait5000() {
        console.log(`Waiting 5 seconds...`);
        await sleep(9*1000);
        console.log('waiting done');
      }

      document.addEventListener('DOMContentLoaded', async function() {
          var scene = document.querySelector('a-scene');
          var splash = document.querySelector('#splash');
          scene.addEventListener('loaded', async function (e) {
            await wait5000();
            splash.style.display = 'none';
            scene.style.display = 'initial';
          });
      });
    </script>
    <style>
      #splash {
        position: absolute;

        display: flex;
        align-items: center;
        justify-content: center;

        flex-direction: column;

        top: 0;
        bottom: 0;
        left: 0;
        right: 0;

        width: 100%;
        height: 100%;

        margin: auto;

        background-color: black;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .loading {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        border: 0.25rem solid rgba(255, 255, 255, 0.2);
        border-top-color: white;
        animation: spin 1s infinite linear;
      }
    </style>
  <body>
    <div id="splash">
      <div class="loading"></div>
      <p style="color:#fff";>正在前往Lucy生日會，請稍等...</p>
    </div>

    <a-scene physics="debug: false" style="display: none">
    
          <a-assets>
            <a-asset-item id="lucy" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/lucy_2/untitled.gltf"></a-asset-item>
          </a-assets>
          
          <a-assets>
            <a-asset-item id="cake" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/cake/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="livingroom" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/livingroom/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="sign" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/sign/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="table" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/table/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="letters" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/letters/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="baloons" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/baloons/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="balloonset" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/balloonset/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="hat" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/hat/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="presents" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/presents/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="cupcake" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/cupcake/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="milkshake" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/milkshake/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="photoframe" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/photoframe/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <a-asset-item id="plant" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/plant/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
            <img id="lucypic" src="https://cmhkjuwan.github.io/SmartProject-VR/image/lucy.png">
          </a-assets>

          <a-assets>
            <img id="wall" src="https://cmhkjuwan.github.io/SmartProject-VR/image/wall.jpg">
          </a-assets>

          <a-assets>
            <img id="lucytv" src="https://cmhkjuwan.github.io/SmartProject-VR/image/lucytv.png">
          </a-assets>

          <a-assets>
            <a-asset-item id="tablecloth" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/tablecloth/scene.gltf">
          </a-assets>

          <a-assets>
            <a-asset-item id="television" src="https://cmhkjuwan.github.io/SmartProject-VR/gltf/television/scene.gltf">
          </a-assets>
    
          <a-sound src="https://cmhkjuwan.github.io/SmartProject-VR/video/HappyBirthday.mp3" autoplay="true" position="0 2 0" crossorigin="anonymous" preload="auto"></a-sound>
          <!-- <a-plane width="2.5" height="1.5" position="2.8 1 -2.03" rotation="180 0 0" color="#FFFFFF"></a-plane> -->
          <!-- <a-entity gltf-model="#partyroom" position="-1.8 0 -6" scale="1 1 1" rotation="0 -90 0"></a-entity> -->
          <!-- <a-entity gltf-model="#garden" position="-7.5 -0.3 2.5" scale="0.06 0.06 0.06" rotation="0 0 0"></a-entity> -->
          <a-entity gltf-model="#livingroom" position="1 0 0" scale="1.5 1.5 1.5"></a-entity>
          <a-entity static-body gltf-model="#cake" position="4.275 1.1 2.27" scale="0.3 0.3 0.3" rotation="0 180 0"></a-entity>
          <a-entity static-body gltf-model="#cupcake" position="3.55 1.1 2.7" scale="0.01 0.01 0.01" rotation="0 90 0"></a-entity>
          <a-entity static-body gltf-model="#milkshake" position="3.525 1.1 1.8" scale="1.5 1.5 1.5" rotation="0 0 0"></a-entity>
          <a-entity static-body gltf-model="#photoframe" position="-3.5 2.8 -1.35" scale="2 2 2"></a-entity>
          <a-image src="#lucypic" position="-3.46 2.8 -1.35" rotation="0 90 0" width="1" height="1.5"></a-image>
          <a-image src="#wall" rotation="0 90 0" position="4.82 2.25 0" width="14.25" height="4.5"></a-image>
          <a-entity static-body gltf-model="#television" position="-3.7 2.7 3.75" scale="0.037 0.037 0.037" rotation="0 90 0"></a-entity>
          <a-image src="#lucytv" position="-3.65 2.71 3.75" rotation="0 90 0" width="1.8" height="1"></a-image>
          <!-- <a-entity static-body gltf-model="#table" position="2.85 0.4 1.5" scale="1.5 1.5 1.5" rotation="0 90 0"></a-entity> -->
          <a-entity static-body gltf-model="#tablecloth" position="4.1 0 2.25" scale="0.9 0.9 0.9" rotation="0 0 0"></a-entity>
          <a-entity static-body gltf-model="#letters" position="4.8 3 0.15" scale="0.7 0.7 0.7" rotation="0 -90 0"></a-entity>
          <a-entity static-body gltf-model="#lucy" position="4.275 0.1 -1.5" scale="0.1 0.1 0.1" rotation="0 -90 0"></a-entity>
          <a-entity static-body gltf-model="#plant" position="-2.7 0 1.95" scale="0.3 0.3 0.3" rotation="0 -180 0"></a-entity>
          <a-entity gltf-model="#lucy" position="-2.7 1.1 2.3" scale="0.01 0.01 0.01" rotation="0 0 0"></a-entity>
          <a-entity gltf-model="#lucy" position="-2.95 0.8 -2.35" scale="0.01 0.01 0.01" rotation="0 30 0"></a-entity>
          <a-entity gltf-model="#lucy" position="0.3 0.86 -3.3" scale="0.007 0.007 0.007" rotation="0 -90 0"></a-entity>
          <a-entity gltf-model="#lucy" position="-2.85 2 -4.4" scale="0.01 0.01 0.01" rotation="0 90 0"></a-entity>
          <a-entity gltf-model="#lucy" position="-0.4 0.3 0.9" scale="0.007 0.007 0.007" rotation="-90 0 0"></a-entity>
          <a-entity gltf-model="#lucy" position="0.5 3.6 -0.94" scale="0.007 0.007 0.007" rotation="0 0 0"></a-entity>
          <a-entity static-body gltf-model="#hat" position="4.35 2 -1.85" scale="0.003 0.003 0.003" rotation="-20 0 0"></a-entity>
          <a-entity static-body gltf-model="#sign" position="4.64 2.25 0" rotation="0 180 0" scale="0.5 0.5 0.5"></a-entity>
          <a-entity static-body gltf-model="#baloons" position="4 1.2 -3" rotation="0 0 0" scale="0.3 0.3 0.3"></a-entity>
          <a-entity static-body gltf-model="#baloons" position="4 1.2 3.7" rotation="0 0 0" scale="0.3 0.3 0.3"></a-entity>
          <a-entity gltf-model="#lucy" position="4 2.08 3.7" scale="0.007 0.007 0.007" rotation="0 -90 0"></a-entity>
          <a-entity gltf-model="#lucy" position="0.3 1.26 6.5" scale="0.007 0.007 0.007" rotation="0 180 25"></a-entity>
          <a-entity static-body gltf-model="#balloonset" position="-1.7 0.3 6.5" rotation="0 0 0" scale="0.2 0.2 0.2"></a-entity>
          <a-entity static-body gltf-model="#balloonset" position="1.7 0.3 6.5" rotation="0 180 0" scale="0.2 0.2 0.2"></a-entity>
          <a-entity static-body gltf-model="#presents" position="4.05 0 -5.1" rotation="0 180 0" scale="0.0018 0.0018 0.0018"></a-entity>
          <a-entity gltf-model="#lucy" position="3.9 0.6 -5.6" scale="0.007 0.007 0.007" rotation="0 -90 0"></a-entity>
          <a-entity gltf-model="#lucy" position="1.4 1.2 -7.05" scale="0.007 0.007 0.007" rotation="0 0 0"></a-entity>
          <a-plane static-body position="0 0 0" rotation="-90 0 0" width="80" height="140" material="opacity: 0.0; transparent: true"></a-plane>
          <a-plane static-body position="0.9 2.25 -7" rotation="0 0 0" width="9" height="4.5" color="red" material="opacity: 0.0; transparent: true"></a-plane>
          <a-plane static-body position="0.9 2.25 6.75" rotation="180 0 0" width="9" height="4.5" color="red" material="opacity: 0.0; transparent: true"></a-plane>
          <a-plane static-body position="-3.3 2.25 0" rotation="0 90 0" width="15" height="4.5" color="red" material="opacity: 0.0; transparent: true"></a-plane>
          <a-plane static-body position="5.1 2.25 0" rotation="0 -90 0" width="15" height="4.5" color="red" material="opacity: 0.0; transparent: true"></a-plane>


      <a-entity kinema-body="radius: 0.6" movement-controls="fly: false" position="0 0 3" look-controls>
        <a-entity camera position="0 1.3 0"></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>